2.2 위계적 데이터와 닫힘 성질

- 상자-포인터 표기법
- pair의 닫힘 성질: 쌍 객체들이 구성요소인 쌍을 생성하는 능력
  일반화하면 데이터 객체들을 조합하는 연산이 있을 때, 만일 그 연산으로 조합한 결과들을 또 다시 그 연산으로 조합할 수 있다면, 그 연산을 가리켜 닫힘 성질을 충족한다고 말한다.

순차열(sequence)

```
pair(1,
     pair(2,
          pair(3,
               pair(4,null))));
```

상자 표기법
`[1, [[2,3], [[4, [5, null]], [6, null]]]]`

목록 표기법
`list(1, [2, 3], list(4, 5), 6)`

> 함수 map은 중요한 프로그램 구축 요소인데, 단지 공통의 패턴을 포착하기 때문만은 아니다. 이 함수가 목록을 다루는 좀 더 높은 수준의 추상을 확립한다는 것이 더 중요한 이유이다. 본질적으로 map은 목록을 변환하는 함수의 구현과 목록의 요소들을 추출하고 조합하는 세부적인 방법 사이의 추상화 장벽을 세우는 데 도움이 된다.

느낀점

- 평소에 어렴풋이 생각했던 것들이 조금씩 잡히기 시작했다. map이 추상화 장벽을 세우는데 도움이 되다니 생각해보면 진짜 그렇다. for문으로 복잡하게 했던 것들을 map을 이용하면 정말 간단하게 할 수 있다. 나는 고급 언어를 사용하기 때문에 추상화 장벽에 도움을 주는 여러 도구들을 알고 있었다. 그리고 알게모르게 그런것들을 사용해왔다. 함수를 나누는 것도 마찬가지다. 함수를 잘게 쪼갤수록 이 책에서 말하는 모듈화라던가 추상화라던가 재사용이라던가 여러가지를 할 수 있다. 근데 사실 이렇게 어렵게 공부하지 않아도 자연스럽게 알게된다. (객체지향까지 말하는건 아니다) 그렇기 때문에 sicp가 폐강된건가? 하는 생각도 들었다. 하지만 그와 동시에 이런 저수준지식을 알수록 확실히 도움이 된다고 느꼈다. 알고 하는 것과 모르고 하는 것은 분명히 다르다. 개발자는 이론적지식만 있어도 실무 경험만 있어도 높은 수준으로 갈 수 없다고 생각한다. 내 생각도 그렇지만 교수라던가 시니어 개발자에게도 그런 얘기를 들었다.

위계적 구조

`pair(list(1, 2), list(3, 4));`

`[[1, [2,null]], [3, [4, null]]]`

> 순차열을 요소로 하는 순차열이라는 것을 트리 구조로 이해할 수도 있다. 이때 순차열의 요소들은 트리의 가지들이고, 그 자체가 순차열인 요소는 부분 트리이다.

> 재귀는 트리 구조를 자연스럽게 다룰 수 있는 수단이다.

> map이 순차열을 다루는 데 강력한 추상이듯이, 재귀와 결합된 map은 트리를 다루는 데 강력한 추상이다.

합의된 인터페이스로서의 순차열

- 진짜 예제가 너무 좋다. 시간여유나면 TDD로 이런거 연습해보자

- 중첩된 매핑: 순차열 패러다임을 좀 더 확장하면 흔히 중첩 루프로 표현되는 여러 계산도 순차열 패러다임에 포함시킬 수 있다.

> 계층화된 설계: 복잡한 시스템은 반드시 일련의 언어들로 서술한 일련의 수준(level)들로 구성해야한다.
